<!DOCTYPE html>
<html>
  <head>
    <title>Brew Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/user.style.css">
    <link rel="stylesheet" href="css/spotterstyle.css">
    <link href="fonts/font-awesome.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-select.min.css">
    <link rel="stylesheet" href="css/owl.carousel.css">
    <link rel="stylesheet" href="css/jquery.mCustomScrollbar.css">
    <link rel="shortcut icon" type="image" href="img/favicon.ico">

  </head>
  <body >
        <!-- Map Canvas-->
        <div class="map-canvas list-width-30" data-bind="visible: mobileShow() === false">
            <!-- Map -->
            <div class="map">
                <!--/.toggle-navigation-->
                <div id="map" class="has-parallax"></div>
                <!--/#map-->
                <div class="search-bar horizontal">
                    <div class="main-search border-less-inputs">
                        <div class="input-row">
                            <div id="status-bar" data-bind="text: status"></div>
                            <!-- /.form-group -->
                                <form class="form-inline">
                                    <div class="form-group">
                                        <input type="text" class="form-control" data-bind="textInput: searchLocation" id="location" placeholder="Search by location"></input>
                                        <!-- <i class="fa fa-map-marker geolocation fa-2x" data-bind="click: getUserLocation"></i> -->
                                    </div>
                                    <div class="form-group">
                                        <select id="filterList" class="selectpicker" data-bind="options: breweryTypes, optionsCaption: '--None--', value: filterType, event: {change : filterBreweries}"></select>
                                    </div>
                                </form>
                            </div>
                        <!-- /.input-row -->
                        </div>
                    <!-- /.main-search -->
                    </div>
                <!-- /.search-bar -->
            </div>
            <!-- Results button for mobile -->
            <!-- end Map -->
            <!--Items List-->
            <div class="items-list" data-bind="visible: mobileShow() === false">
                <header>
                    <h3>Breweries</h3>
                    <div data-bind="text: breweryResultsNum"></div>
                    <h8>This product uses the BreweryDB API but is not endorsed or certified by PintLabs</h8>
                </header>
                <ul class="results list" data-bind="foreach: filteredBreweries">
                    <li data-bind="click: $parent.goToMarker">
                        <div class="item">
                            <a class="image loaded">
                                <img data-bind="attr: { src: iconImage }, attr: { alt: name+ ' icon' ">
                            </a>
                            <div class="wrapper">
                                <h4 data-bind="text: name"></h4>
                                <figure data-bind="text: address"></figure>
                                <figure data-bind="text: yearEstablished"></figure>
                                <figure data-bind="text: type"></figure>
                            </div>
                        </div>
                    </li>
                </ul>
                <!--results-->
            </div>
        </div>
        <!--end Items List-->     
        <!-- mobile list results -->
        <div class="mobile-results-list" data-bind="visible: mobileShow() === true">
            <ul class="container" data-bind="foreach: filteredBreweries">
                <li data-bind="click: $parent.goToMarker">
                        <div class="row">
                            <div class="col-xs-3">
                                <img data-bind="attr: { src: iconImage }">
                            </div>
                            <div class="col-xs-9">
                                <p data-bind="text: name"></p>
                                <p data-bind="text: type"></p>
                            </div>
                        </div>
                </li>
            </ul>
        </div>
        <!-- Mobile results block -->
        <div class="mobile-results-row">
            <button id="mobileResultsButton" class="btn btn-primary btn-lg btn-block" data-bind="click: mobileToggle; visible: mobileShow() === true">Results</button>
        </div>   
        <!-- end Map Canvas-->
        <!--Start Beer Modal-->
        <div data-bind="modal: { header: {data: { label: selectedBreweryName } }, body: { name: 'beerModalTemplate', foreach: beers }, visible: beerModalVisible }">
        </div>
        <!-- Beer Modal Content Template -->
        <script type="text/html" id="beerModalTemplate">
            <ul>
                <h6 data-bind="text: name"></h6>
                <p data-bind="text: styleShortName"></p>
                <p data-bind="text: ibu"></p>
                <p data-bind="text: year"></p>
            </ul>
        </script>
  
  <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/knockout/knockout-3.0.0.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" async></script>
  <script type="text/javascript" src="js/app.js"></script>
  <script type="text/javascript" src="js/lib/knockstrap.min.js" async></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDjH2DzxSQWvsoLTmWe5Rn6s0cdjzgVNqI&libraries=places&callback=googleSuccess" async defer onerror="googleError()"></script>
</body>
</html>
